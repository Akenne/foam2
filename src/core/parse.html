<html>
  <head>
    <script language="javascript" src="context.js"></script>
    <script language="javascript" src="stdlib.js"></script>
    <script language="javascript" src="mm.js"></script>
    <script language="javascript" src="Slot.js"></script>
    <script language="javascript" src="debug.js"></script>
    <script language="javascript" src="parse.js"></script>
    <title>FOAM parsers</title>
  </head>
  <body>
    <script>
foam.CLASS({
  name: 'ParserTest',
  methods: [
    function test() {
      console.log("Test 1: ", this.NameParser("Hello world!"));
      console.log("Test 2: ", this.NameParser("Hello adam!"));
      console.log("Test 3: ", this.NameParser("Hello mike carcasole!"));
      console.log("Test 3: ", this.NameParser("Hello mike elseole!"));
      console.log("Test 4: ", this.NameParser("Helo world!"));
    }
  ],
  grammars: [
    {
      name: 'NameParser',
      symbols: {
        START: seq("Hello", " ",
                   alt("world", "adam", sym('mike')),
                   "!"),
        'mike': seq("mike", " ", alt("carcasole", "elseole"))
      },
      actions: {
        'mike': function(a) {
          console.log("Found mike ", a[2]);
          return a;
        }
      }
    }
  ]
});

ParserTest.create().test();
    </script>
  </body>
</html>
